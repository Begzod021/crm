{% extends 'base.html' %}
{% load static %}
{% block static %}
    
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>



{% endblock static %}




{% block content %}

    <main class="main-content bgc-grey-100">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12 col-md-4 d-flex justify-content-center text-center flex-nowrap flex-column" id="sideform">
                    <!-- sideform -->
                    <div class="py-4">
                        <p>What is Weather Like ?</p>
                        <div>
                            <form method="POST">
                                {% csrf_token %}
                                {{ form.city_name }}
                                <button class="btn btn-warning" type="submit">Search</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-8 d-flex justify-content-center text-center flex-nowrap flex-column mx-auto">
                    <!-- card -->
                    {% if weather_data %}
                    <div class="card mx-auto my-5" style="width: 30rem;" id="dashboard-card">  
                        <table class="table">
                            <tbody>
                                <tr>
                                    <td class="border-bottom border-right">
                                        <div>
                                            <h1 class="text-center display-3">{{ weather_data.temp }}&deg; C</h1>
                                            <p><strong>{{ weather_data.temp_min }}&deg;C - {{ weather_data.temp_max }}&deg;C</strong></p>
                                        </div>
                                    </td>
                                    <td>
                                        <div>
                                            <p>{{ weather_data.city_name }}<small class="text-muted">({{ weather_data.country }})</small></p>
                                        </div>
                                        <div>
                                            <small>
                                                <strong>Lattitude:</strong>
                                                {{ weather_data.lat }}
                                            </small>
                                        </div>
                                        <div>
                                            <small>
                                                <strong>Longitude:</strong>
                                                {{ weather_data.lon }}
                                            </small>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="card-body">  
                            <div>
                                <table class="table">
                                    <tbody>
                                        <tr>
                                            <td>
                                                <p>
                                                    <strong>Weather: </strong> {{ weather_data.weather }}
                                                    <small class="text-muted">{{ weather_data.weather_desc }}</small>
                                                </p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <p>
                                                    <strong>Pressure: </strong> {{ weather_data.pressure }} 
                                                    <small class="text-muted">hPa</small>
                                                </p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <p>
                                                    <strong>Humidity: </strong> {{ weather_data.humidity }} %
                                                </p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <p>
                                                    <strong>Wind Speed: </strong> {{ weather_data.wind_speed }} 
                                                    <small class="text-muted">m/s</small>
                                                </p>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>      
                        </div>
                    </div>
                    {% else %}
                        <div class="card mx-auto my-5" style="width: 30rem;" id="dashboard-card">  
                            <div class="card-body">  
                                <h3>Data Not Found</h3>
                            </div>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </main>
{% endblock content %}